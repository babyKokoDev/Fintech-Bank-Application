<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="./fontawesome-free-6.3.0-web/css/all.css">
    <link href="https://fonts.googleapis.com/css2?family=Arvo:ital,wght@1,700&family=Itim&family=Kreon&family=Mynerve&family=Sofia+Sans+Semi+Condensed&display=swap" rel="stylesheet">
</head>
<style>
    body {
        background-color: #ededf5;
        font-family: 'Kreon', serif !important;
    }

    .badge {
        font-size: 8px !important;
    }

    .badge-noti {
        margin-left: -25px;
    }
    a{
        text-decoration: none;
    }
</style>

<body id="bodyTag">
    <div id="modal1"></div>
    <div id="modal2"></div>
    <div id="modal3"></div>
    <div id="modal4"></div>
    
    <div class=" darkmode p-3 d-flex justify-content-between container-fluid bg-white align-items-center">
        <a href="dashboard.html"><i class="fa fa-less-than fa-beat-fade"></i></a>
        <h2 style="color: #27173e; font-size: 18px;">Settings</h2>
        <span>
            <a href="notification.html" class="navbar-brand">
                <span class=" fa fa-sharp fa-regular fa-bell fa-2x text-primary position-relative">
                    <span class="position-absolute top-0 start-100 translate-middle badge  rounded-pill bg-danger">*
                        <span class="visually-hidden">unread messages</span>
                    </span>
                </span>
            </a>
        </span>
    </div>
    <div class="p-3 d-flex align-items-center justify-content-center mb-3">
        <img src="./picture2.jpg" alt="" width="100px" height="100px" class="ms-3" style="border-radius: 100%;">
        <!-- <button data-bs-toggle="modal" data-bs-target="#myModal4" class="btn btn-transparent"><i class="fa fa-edit"></i></button> -->
    </div>
    <div class="container-fluid mx-1 me-1 mb-3">
        <h3 style="font-size: 14px; color: #958d9e;" class="mx-1">ðŸ§¡ðŸ’›ðŸ’šðŸ’œðŸ¤ŽðŸ–¤ðŸ’™</h3>
        <div class="bg-white rounded-3 d-flex justify-content-between p-3">
            <h3 style="font-size: 16px; color: #27173e;" id="firstName"></h3>

        </div>
    </div>
    <div class="container-fluid mx-1 me-1 mb-3">
        <h3 style="font-size: 14px; color: #958d9e;" class="mx-1">Notifications</h3>
        <div class=" ps-3 p-2 bg-white pe-3 rounded-4">
            <div class="rounded-3 d-flex justify-content-between align-items-center">
                <span>
                    <h3 style="font-size: 16px; color: #27173e;">Payment alert</h3>
                    <h3 style="font-size: 13px; color: #a9abad;">Send notification when new payment received</h3>
                </span>
                <div class="form-check form-switch">
                    <input type="checkbox" class="form-check-input" role="switch" id="" style="scale: 1.5;">
                </div>
            </div>
            <hr>
            <div class="rounded-3 d-flex justify-content-between">
                <h3 style="font-size: 16px; color: #27173e;">Notification Sound</h3>
                <h3 style="font-size: 15px; color: #6236ff;">Beep</h3>
            </div>
        </div>
    </div>
    <div class="container-fluid mx-1 me-1 mb-3">
        <h3 style="font-size: 14px; color: #958d9e;" class="mx-1">Profile Settings</h3>
        <div class=" ps-3 p-2 bg-white pe-3 rounded-4">
            <div style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#myModal1" class="d-flex justify-content-between align-items-center">
                <span>
                    <h3 style="font-size: 18px; color: #27173e;">Change Pin</h3>
                </span>
            </div>
            <hr>
            <div style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#myModal2" class="d-flex justify-content-between align-items-center">
                <span>
                    <h3 style="font-size: 18px; color: #27173e;">Update Phonenumber</h3>
                </span>
            </div>
            <hr>
            <a href="#"><div class="d-flex justify-content-between align-items-center">
                <span>
                    <h3 style="font-size: 18px; color: #27173e;">Address</h3>
                </span>
                <h3 style="font-size: 15px; color: #6236ff;">Edit</h3>
            </div></a>
            <hr>
            <div class="d-flex justify-content-between align-items-center">
                <span>
                    <h3 style="font-size: 18px; color: #27173e;">Private Profile</h3>
                </span>
                <div class="form-check form-switch">
                    <input type="checkbox" class="form-check-input" role="switch" id="" style="scale: 2.0;">
                </div>
            </div>

        </div>
    </div>
    <div class="container-fluid mx-1 me-1 mb-3">
        <h3 style="font-size: 14px; color: #958d9e;" class="mx-1">Security</h3>
        <div class=" ps-3 p-2 bg-white pe-3 rounded-4">
            <div style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#myModal3" class="d-flex justify-content-between align-items-center">   
                <span>
                    <h3 style="font-size: 18px; color: #27173e;">Update Password</h3>
                </span>
            </div></a>
            <hr>
            <div class="d-flex justify-content-between align-items-center">
                <span>
                    <h3 style="font-size: 18px; color: #27173e;">2 Step Verification</h3>
                </span>
                <div class="form-check form-switch">
                    <input type="checkbox" class="form-check-input" role="switch" id="" style="scale: 2.0;">
                </div>
            </div>
            <hr>
            <a href="./login.html"><div class="d-flex justify-content-between align-items-center">
                <span>
                    <h3 style="font-size: 18px; color: #27173e;">Log out on all devices</h3>
                </span>
            </div></a>
            

        </div>
    </div>
      <script>
          let allBankers = JSON.parse(localStorage.getItem('bankers'))
          let userIndex = JSON.parse(localStorage.getItem('userIndex'))
          let myBank = allBankers[userIndex]

          modal1.innerHTML = `<div id="myModal1" class="modal fade" role="dialog" tabindex="-1" aria-labelledby = "myModalLabel" aria-hidden = "true">
            <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                <h4 class="modal-title fs-5" id = "myModalLabel">Change Pin</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label = "Close"></button>
                </div>
                <div class="modal-body">
                <input type="text" class="form-control" placeholder="Enter your old pin"  
                id = "oldPin">
                <input type="text" class="form-control mt-4" placeholder="Enter your new pin"  
                id = "newPin"> 
                </div>
                <div class="modal-footer">
                <button onclick = "changePin()" type="button" class="btn btn-primary" data-bs-dismiss="modal">Change Pin</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
            </div>
            </div>`

            let changePin = () => {
                if (oldPin.value == newPin.value) {
                    alert("New Password same as old Password")
                }else if (oldPin.value !== myBank.pIN) {
                       alert("Old Password Incorrect")
                }else {
                    myBank.pIN = newPin.value
                    localStorage.setItem('bankers', JSON.stringify(allBankers))
                }


                oldPin.value = ""
                newPin.value = ""
            }

            modal2.innerHTML = `<div id="myModal2" class="modal fade" role="dialog" tabindex="-1" aria-labelledby = "myModalLabel" aria-hidden = "true">
            <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                <h4 class="modal-title fs-5" id = "myModalLabel">Update Phone Number</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label = "Close"></button>
                </div>
                <div class="modal-body">
                <input type="number" class="form-control" placeholder="Enter your old number"  
                id = "oldPhone">
                <input type="number" class="form-control mt-4" placeholder="Enter your new number"  
                id = "newPhone"> 
                </div>
                <div class="modal-footer">
                <button onclick = "changePhone()" type="button" class="btn btn-primary" data-bs-dismiss="modal">Change Number</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
            </div>
            </div>`

            let changePhone = () => {
                if (oldPhone.value == newPhone.value) {
                    alert("New Password same as old Password")
                }else if (oldPhone.value !== myBank.phoneNumber) {
                       alert("Old Password Incorrect")
                }else {
                    myBank.phoneNumber = newPhone.value
                    localStorage.setItem('bankers', JSON.stringify(allBankers))
                }


                oldPhone.value = ""
                newPhone.value = ""
            }
          
            modal3.innerHTML = `<div id="myModal3" class="modal fade" role="dialog" tabindex="-1" aria-labelledby = "myModalLabel" aria-hidden = "true">
            <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                <h4 class="modal-title fs-5" id = "myModalLabel">Update Phone Number</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label = "Close"></button>
                </div>
                <div class="modal-body">
                <input type="text" class="form-control" placeholder="Enter your old password"  
                id = "oldPassword">
                <input type="text" class="form-control mt-4" placeholder="Enter your new password"  
                id = "newPassword"> 
                </div>
                <div class="modal-footer">
                <button onclick = "changePassword()" type="button" class="btn btn-primary" data-bs-dismiss="modal">Change Password</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
            </div>
            </div>`

            let changePassword = () => {
                if (oldPassword.value == newPassword.value) {
                    alert("New Password same as old Password")
                }else if (oldPassword.value !== myBank.passWord) {
                       alert("Old Password Incorrect")
                }else {
                    myBank.passWord = newPassword.value
                    localStorage.setItem('bankers', JSON.stringify(allBankers))
                }


                oldPassword.value = ""
                newPassword.value = ""
            }
           
            firstName.innerHTML = `Welcome to Fintech Bank <span style = "font-size: 16px; color: brown">${myBank.firstname} ${myBank.lastname}</span>`

      </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
</body>

</html>